{"version":3,"file":"js/4195.1652794531012.6534a1cd23f7ca9f827b.js","mappings":"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","sources":["webpack:///./src/api/constants.js","webpack:///./src/store/reducers.js","webpack:///./src/store/index.js","webpack:///./src/Routes.js","webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/bootstrap.js","webpack:///./src/store/actionTypes.js"],"sourcesContent":["export const DEFAULT_PREFIX = 'api';\n\nexport const versionMapper = {\n  'aiops-clustering': 'v1.0',\n  'aiops-idle-cost-savings': 'v1.0',\n  'aiops-instance-type-validation': 'v1.0',\n  'aiops-outlier-detection': 'v1.0',\n  xavier: 'v1.0',\n};\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport * as ACTIONS from './actionTypes';\nimport { versionMapper } from '../api/constants';\n\nconst defaultState = { loaded: false, selectedRows: {} };\nconst disabledApis = [\n  'automation-analytics',\n  'openshift',\n  'ruledev',\n  'ingress',\n];\n\nconst getAppName = (service) =>\n  (service.api.alias && service.api.alias[0]) || service.appName;\n\nfunction dataLoaded(state, { payload }) {\n  return {\n    ...state,\n    endpoints:\n      payload &&\n      payload.services\n        .filter(\n          (service) =>\n            !disabledApis.includes(service.appName) &&\n            (!service.api.isBeta || insights.chrome.isBeta())\n        )\n        .map((service) => ({\n          ...service,\n          version:\n            versionMapper[getAppName(service)] || service?.api?.versions?.[0],\n          appName: getAppName(service),\n          apiName: service.api.apiName,\n        })),\n    loaded: true,\n  };\n}\n\nfunction detailLoaded(state, { payload: { latest, ...payload } }) {\n  return {\n    ...state,\n    spec: payload,\n    latest,\n    loaded: true,\n  };\n}\n\nfunction onSelectRow(state, { payload: { isSelected, row } }) {\n  const selectedRows = {\n    ...(state.selectedRows || {}),\n    ...(Array.isArray(row)\n      ? row.reduce(\n          (acc, curr) => ({\n            ...acc,\n            [`${row.subItems ? 'parent-' : ''}${curr.cells[0].value}`]: {\n              isSelected,\n              appName: curr.cells[0].value,\n              url: curr.cells[1].value,\n              version: curr.cells[2].value,\n              ...(curr.subItems && {\n                subItems: curr.subItems,\n              }),\n            },\n          }),\n          {}\n        )\n      : {\n          [`${row.subItems ? 'parent-' : ''}${row.cells[0].value}`]: {\n            isSelected,\n            appName: row.cells[0].value,\n            url: row.cells[1].value,\n            version: row.cells[2].value,\n            ...(row.subItems && {\n              subItems: row.subItems,\n            }),\n          },\n        }),\n  };\n\n  return {\n    ...state,\n    selectedRows,\n  };\n}\n\nexport const services = applyReducerHash(\n  {\n    [`${ACTIONS.LOAD_ALL}_FULFILLED`]: dataLoaded,\n    [`${ACTIONS.LOAD_ALL}_PENDING`]: () => defaultState,\n    [ACTIONS.SELECT_ROW]: onSelectRow,\n  },\n  defaultState\n);\n\nexport const detail = applyReducerHash(\n  {\n    [`${ACTIONS.LOAD_ONE_API}_FULFILLED`]: detailLoaded,\n    [`${ACTIONS.LOAD_ONE_API}_PENDING`]: () => ({ loaded: false }),\n    [`${ACTIONS.LOAD_ONE_API}_REJECTED`]: () => ({ loaded: true, error: true }),\n  },\n  defaultState\n);\n","import { createContext } from 'react';\nimport ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport { services, detail } from './reducers';\n\nexport const RegistryContext = createContext({\n  getRegistry: () => {},\n});\n\nexport function init(...middleware) {\n  const registry = new ReducerRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({\n      errorDescriptionKey: ['detail', 'stack'],\n    }),\n    ...middleware.filter((item) => typeof item !== 'undefined'),\n  ]);\n\n  registry.register({ services, detail, notifications: notificationsReducer });\n\n  //If you want to register all of your reducers, this is good place.\n  /*\n   *  registry.register({\n   *    someName: (state, action) => ({...state})\n   *  });\n   */\n  return registry;\n}\n","import { Route, Routes as DomRoutes } from 'react-router-dom';\nimport React, { lazy, Suspense, Fragment } from 'react';\nconst Overview = lazy(() =>\n  import(/* webpackChunkName: \"Overview\" */ './routes/Overview')\n);\nconst Detail = lazy(() =>\n  import(/* webpackChunkName: \"Detail\" */ './routes/Detail')\n);\n\nconst paths = {\n  overview: '/',\n  detail: '/:apiName',\n  detailVersioned: '/:apiName/:version',\n};\n\nexport const Routes = () => {\n  return (\n    <Suspense fallback={<Fragment />}>\n      <DomRoutes>\n        <Route exact path={paths.overview} element={<Overview />} />\n        <Route exact path={paths.detail} element={<Detail />} />\n        <Route exact path={paths.detailVersioned} element={<Detail />} />\n        <Route element={<Overview />} />\n      </DomRoutes>\n    </Suspense>\n  );\n};\n","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst App = () => {\n  const chrome = useChrome();\n  useEffect(() => {\n    if (chrome) {\n      const { identifyApp } = chrome.init();\n      identifyApp(CRC_APP_NAME);\n    }\n  }, [chrome]);\n\n  return (\n    <React.Fragment>\n      <NotificationsPortal />\n      <Routes />\n    </React.Fragment>\n  );\n};\n\nApp.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init, RegistryContext } from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport PropTypes from 'prop-types';\n\nconst AppEntry = ({ logger }) => {\n  const registry = logger ? init(logger) : init();\n  return (\n    <RegistryContext.Provider\n      value={{\n        getRegistry: () => registry,\n      }}\n    >\n      <Provider store={registry.getStore()}>\n        <Router basename={getBaseName(window.location.pathname)}>\n          <App />\n        </Router>\n      </Provider>\n    </RegistryContext.Provider>\n  );\n};\n\nAppEntry.propTypes = {\n  logger: PropTypes.any,\n};\n\nexport default AppEntry;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppEntry from './AppEntry';\n\nReactDOM.render(<AppEntry />, document.getElementById('root'));\n","export const LOAD_ALL = 'LOAD_ALL';\nexport const LOAD_ONE_API = 'LOAD_ONE_API';\nexport const SELECT_ROW = 'SELECT_ROW';\n"],"names":["DEFAULT_PREFIX","versionMapper","xavier","defaultState","loaded","selectedRows","disabledApis","getAppName","service","api","alias","appName","services","applyReducerHash","ACTIONS","state","payload","endpoints","filter","includes","isBeta","insights","chrome","map","version","versions","apiName","isSelected","row","Array","isArray","reduce","acc","curr","subItems","cells","value","url","detail","latest","spec","error","RegistryContext","createContext","getRegistry","init","middleware","registry","ReducerRegistry","promiseMiddleware","notificationsMiddleware","errorDescriptionKey","item","register","notifications","notificationsReducer","Overview","lazy","Detail","Routes","Suspense","fallback","Fragment","Route","exact","path","element","App","useChrome","useEffect","identifyApp","CRC_APP_NAME","propTypes","history","PropTypes","AppEntry","logger","Provider","store","getStore","basename","getBaseName","window","location","pathname","ReactDOM","document","getElementById","LOAD_ALL","LOAD_ONE_API","SELECT_ROW"],"sourceRoot":""}