(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[7887],{66702:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>p,w0:()=>d});var r=n(42982),a=n(4942),o=n(6407),c=n(33366),i=n(47180),l=n(48764).Buffer;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return c.ZP.get("".concat(insights.chrome.isBeta()?"/beta":"","/config/main.yml")).then((function(e){return(0,i.zD)(e)})).then((function(e){return{services:Object.keys(e).filter((function(t){return e[t].api})).map((function(t){return s({appName:t},e[t])}))}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.owner,n=e.repo,r=e.content;return t&&n&&r},d=function(e){var t,n,a=e.name,u=e.version,p=void 0===u?"v1":u,d=e.url,m=e.github,h=f(m)?"https://api.github.com/repos/".concat(m.owner,"/").concat(m.repo,"/contents/").concat(m.content):null!=d?d:(t=a,n=o.u[a]||p,"/".concat(o.K,"/").concat(t,"/").concat(n,"/openapi.json")),b=function(e,t){var n=c.ZP.get(e);return t?n.then((function(e){var t=e.content;return(0,i.zD)(l.from(t,"base64"))})):n}(h,f(m));return b.then((function(e){return s(s({},e),{},{latest:h,name:a,servers:[].concat((0,r.Z)(e.servers||[]),[{url:"/api/".concat(a,"/").concat(o.u[a]||p)}]).filter((function(e,t,n){return n.findIndex((function(t){var n=t.url;return 0==="".concat(location.origin).concat(e.url).indexOf(n)||0===e.url.indexOf(n)}))===t})).map((function(e){return s(s({},e),{},{url:0===e.url.indexOf("/")?"".concat(location.origin).concat(e.url):e.url})}))})}))}},80371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(70885),a=n(4942),o=n(15861),c=n(87757),i=n.n(c),l=n(46759),u=n.n(l),s=n(55159),p=n(80123),f=n(39173),d=n(14748),m=n(86706),h=n(45697),b=n.n(h),g=n(98924),v=n(94778),O=n(35664),y=n(24561),E=n(27174),w=n(50470),j=n(55171),P=n.n(j),S=n(55140);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t,n,a=e.loadApi,c=e.detail,m=(0,s.useParams)(),h=m.apiName,b=m.version,v=void 0===b?"v1":b,j=new URLSearchParams((0,s.useLocation)().search),k=(0,S.Z)().auth;(0,l.useEffect)((function(){a(h,v,j.get("url"),{owner:j.get("github-owner"),repo:j.get("github-repo"),content:j.get("github-content")})}),[]);var _=(0,l.useCallback)(function(){var e=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Z,e.t1=Z({},t.headers||{}),e.t2={},e.t3="Bearer ",e.next=6,k.getToken();case 6:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6={Authorization:e.t5},t.headers=(0,e.t0)(e.t1,e.t2,e.t6),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),C=(0,l.useState)(!1),D=(0,r.Z)(C,2),x=D[0],B=D[1];return u().createElement(u().Fragment,null,u().createElement(p.Z,{className:"pf-m-light"},u().createElement(f.Z,{title:u().createElement(u().Fragment,null,u().createElement(E.Breadcrumb,null,u().createElement(E.BreadcrumbItem,null,u().createElement(s.Link,{to:"/"},"Overview")),u().createElement(E.BreadcrumbItem,{isActive:!0},h)),u().createElement(u().Fragment,null,c.loaded&&!c.error&&u().createElement(E.Level,{className:"ins-c-docs__api-detail"},u().createElement(E.LevelItem,{className:"ins-c-docs__api-detail-info"},c.loaded?"Detail of ".concat(null===(t=c.spec)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.title):u().createElement(O.Z,{size:O.i.md})),u().createElement(E.LevelItem,null,u().createElement(E.Split,{hasGutter:!0},u().createElement(E.SplitItem,{className:"ins-c-docs__api-detail-info"},c.loaded&&!c.error?u().createElement(E.TextContent,null,u().createElement(E.Text,{component:"a",href:"".concat(c.latest.includes("https://")?"":location.origin).concat(c.latest),target:"_blank",rel:"noopener noreferrer"},"Open Raw ",u().createElement(w.ZP,{size:"sm"}))):u().createElement(O.Z,{size:O.i.mdmd})),u().createElement(E.SplitItem,{className:"ins-c-docs__api-detail-info"},c.loaded?u().createElement(E.Button,{onClick:function(){return B(!0)},variant:E.ButtonVariant.secondary},"Show JSON"):u().createElement(O.Z,{size:O.i.md})))))))})),u().createElement(d.Z,null,u().createElement(u().Fragment,null,u().createElement(E.Card,null,u().createElement(E.CardBody,null,c.loaded&&u().createElement(g.Z,{deepLinking:!0,docExpansion:"list",spec:c.spec,requestInterceptor:_,onComplete:function(e){var t=e.layoutActions.show;if(e.layoutActions.show=function(e,n){history.replaceState({},"","".concat(location.pathname,"#").concat(CSS.escape(e.join("-")))),t(e,n)},location.hash&&location.hash.length>0){var n=document.querySelector("[id$='".concat(location.hash.replace("#","").replace(/\\./g,"\\\\."),"']"));n&&(n.scrollIntoView(),t(location.hash.replace("#","").replace(/\\/g,"").split("-"),!0))}}}),!c.loaded&&u().createElement(y.s1,null))))),u().createElement(E.Modal,{width:"50%",title:"Spec JSON",isOpen:x,onClose:function(){return B(!1)},actions:[u().createElement(E.Button,{key:"close",variant:E.ButtonVariant.secondary,onClick:function(){return B(!1)}},"Close")]},u().createElement(P(),{displayDataTypes:!1,shouldCollapse:function(e){var t=e.name;return"root"!==t&&"paths"!==t},src:c.spec})))};_.propTypes={loadApi:b().func,detail:b().shape({loaded:b().bool,spec:b().string,error:b().bool,latest:b().string})},_.defaultProps={loadApi:function(){},detail:{loaded:!1}};const C=(0,m.$j)((function(e){return{detail:e.detail}}),(function(e){return{loadApi:function(t,n,r,a){return e((0,v.IQ)({name:t,version:n,url:r,github:a}))}}}))(_)},94778:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>c,j3:()=>o,wS:()=>i});var r=n(49120),a=n(66702),o=function(){return{type:r.Lh,payload:(0,a.Ux)()}},c=function(e){return{type:r.a,payload:(0,a.w0)(e)}},i=function(e){return{type:r.HM,payload:e}}},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Detail.bcc1db64d46b696e3260ebcc0dcd2b2d.js.map