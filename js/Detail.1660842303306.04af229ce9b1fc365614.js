(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[7887],{66702:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>p,w0:()=>m});var r=n(42982),c=n(4942),a=n(6407),o=n(33366),i=n(47180),l=n(48764).Buffer;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return o.ZP.get("".concat(insights.chrome.isBeta()?"/beta":"","/config/main.yml")).then((function(e){return(0,i.zD)(e)})).then((function(e){return{services:Object.keys(e).filter((function(t){return e[t].api})).map((function(t){return s({appName:t},e[t])}))}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.owner,n=e.repo,r=e.content;return t&&n&&r},m=function(e){var t,n,c=e.name,u=e.version,p=void 0===u?"v1":u,m=e.url,d=e.github,h=f(d)?"https://api.github.com/repos/".concat(d.owner,"/").concat(d.repo,"/contents/").concat(d.content):null!=m?m:(t=c,n=a.u[c]||p,"/".concat(a.K,"/").concat(t,"/").concat(n,"/openapi.json")),v=function(e,t){var n=o.ZP.get(e);return t?n.then((function(e){var t=e.content;return(0,i.zD)(l.from(t,"base64"))})):n}(h,f(d));return v.then((function(e){return s(s({},e),{},{latest:h,name:c,servers:[].concat((0,r.Z)(e.servers||[]),[{url:"/api/".concat(c,"/").concat(a.u[c]||p)}]).filter((function(e,t,n){return n.findIndex((function(t){var n=t.url;return 0==="".concat(location.origin).concat(e.url).indexOf(n)||0===e.url.indexOf(n)}))===t})).map((function(e){return s(s({},e),{},{url:0===e.url.indexOf("/")?"".concat(location.origin).concat(e.url):e.url})}))})}))}},80371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(87462),c=n(70885),a=n(4942),o=n(15861),i=n(87757),l=n.n(i),u=n(46759),s=n.n(u),p=n(55159),f=n(80123),m=n(39173),d=n(14748),h=n(86706),v=n(98924),g=n(94778),b=n(35664),O=n(24561),y=n(27174),E=n(50470),w=n(55171),j=n.n(w),P=n(55140);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const k=function(){var e,t=(0,h.I0)(),n=(0,h.v9)((function(e){return e.detail.loaded})),a=(0,h.v9)((function(e){return e.detail.spec})),i=(0,h.v9)((function(e){return e.detail.error})),w=(0,h.v9)((function(e){return e.detail.latest})),S=(0,p.useParams)(),k=S.apiName,_=S.version,C=void 0===_?"v1":_,D=(0,p.useNavigate)(),I=new URLSearchParams((0,p.useLocation)().search),x=(0,P.Z)().auth;(0,u.useEffect)((function(){t((0,g.IQ)({name:k,version:C,url:I.get("url"),github:{owner:I.get("github-owner"),repo:I.get("github-repo"),content:I.get("github-content")}}))}),[]);var B=(0,u.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Z,e.t1=Z({},t.headers||{}),e.t2={},e.t3="Bearer ",e.next=6,x.getToken();case 6:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6={Authorization:e.t5},t.headers=(0,e.t0)(e.t1,e.t2,e.t6),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),N=(0,u.useState)(!1),z=(0,c.Z)(N,2),L=z[0],A=z[1];return s().createElement(s().Fragment,null,s().createElement(f.Z,{className:"pf-m-light"},s().createElement(m.Z,{title:s().createElement(s().Fragment,null,s().createElement(y.Breadcrumb,null,s().createElement(y.BreadcrumbItem,null,s().createElement(p.Link,{to:"/"},"Overview")),s().createElement(y.BreadcrumbItem,{isActive:!0},k)),s().createElement(s().Fragment,null,n&&!i&&s().createElement(y.Level,{className:"ins-c-docs__api-detail"},s().createElement(y.LevelItem,{className:"ins-c-docs__api-detail-info"},n?"Detail of ".concat(null==a||null===(e=a.info)||void 0===e?void 0:e.title):s().createElement(b.Z,{size:b.i.md})),s().createElement(y.LevelItem,null,s().createElement(y.Split,{hasGutter:!0},s().createElement(y.SplitItem,{className:"ins-c-docs__api-detail-info"},n&&!i?s().createElement(y.TextContent,null,s().createElement(y.Text,{component:"a",href:"".concat(w.includes("https://")?"":location.origin).concat(w),target:"_blank",rel:"noopener noreferrer"},"Open Raw ",s().createElement(E.ZP,{size:"sm"}))):s().createElement(b.Z,{size:b.i.mdmd})),s().createElement(y.SplitItem,{className:"ins-c-docs__api-detail-info"},n?s().createElement(y.Button,{onClick:function(){return A(!0)},variant:y.ButtonVariant.secondary},"Show JSON"):s().createElement(b.Z,{size:b.i.md})))))))})),s().createElement(d.Z,null,s().createElement(s().Fragment,null,s().createElement(y.Card,null,s().createElement(y.CardBody,null,n&&s().createElement(v.Z,(0,r.Z)({docExpansion:"list"},I.get("readonly")&&{supportedSubmitMethods:[""]},{spec:a,requestInterceptor:B,onComplete:function(e){var t=e.layoutActions.show;if(e.layoutActions.show=function(e,n){var r,c=CSS.escape(e.join("-")),a=null===(r=location.hash)||void 0===r?void 0:r.replace("#","");t(e,n),n&&c!==a&&D("/".concat(k,"/").concat(C,"?").concat(I.toString(),"#").concat(c),{replace:!0})},location.hash&&location.hash.length>0){var n=document.querySelector("[id$='".concat(location.hash.replace("#","").replace(/\\./g,"\\\\."),"']"));n&&(n.scrollIntoView(),t(location.hash.replace("#","").replace(/\\/g,"").split("-"),!0))}}})),!n&&s().createElement(O.s1,null))))),s().createElement(y.Modal,{width:"50%",title:"Spec JSON",isOpen:L,onClose:function(){return A(!1)},actions:[s().createElement(y.Button,{key:"close",variant:y.ButtonVariant.secondary,onClick:function(){return A(!1)}},"Close")]},s().createElement(j(),{displayDataTypes:!1,shouldCollapse:function(e){var t=e.name;return"root"!==t&&"paths"!==t},src:a})))}},94778:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>o,j3:()=>a,wS:()=>i});var r=n(49120),c=n(66702),a=function(){return{type:r.Lh,payload:(0,c.Ux)()}},o=function(e){return{type:r.a,payload:(0,c.w0)(e)}},i=function(e){return{type:r.HM,payload:e}}},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Detail.f21bc450e6ba8f86f58fe92f7ae831be.js.map