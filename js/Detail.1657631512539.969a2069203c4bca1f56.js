(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[7887],{66702:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>p,w0:()=>m});var r=n(42982),c=n(4942),a=n(6407),o=n(33366),i=n(47180),l=n(48764).Buffer;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){return o.ZP.get("".concat(insights.chrome.isBeta()?"/beta":"","/config/main.yml")).then((function(e){return(0,i.zD)(e)})).then((function(e){return{services:Object.keys(e).filter((function(t){return e[t].api})).map((function(t){return s({appName:t},e[t])}))}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.owner,n=e.repo,r=e.content;return t&&n&&r},m=function(e){var t,n,c=e.name,u=e.version,p=void 0===u?"v1":u,m=e.url,d=e.github,h=f(d)?"https://api.github.com/repos/".concat(d.owner,"/").concat(d.repo,"/contents/").concat(d.content):null!=m?m:(t=c,n=a.u[c]||p,"/".concat(a.K,"/").concat(t,"/").concat(n,"/openapi.json")),v=function(e,t){var n=o.ZP.get(e);return t?n.then((function(e){var t=e.content;return(0,i.zD)(l.from(t,"base64"))})):n}(h,f(d));return v.then((function(e){return s(s({},e),{},{latest:h,name:c,servers:[].concat((0,r.Z)(e.servers||[]),[{url:"/api/".concat(c,"/").concat(a.u[c]||p)}]).filter((function(e,t,n){return n.findIndex((function(t){var n=t.url;return 0==="".concat(location.origin).concat(e.url).indexOf(n)||0===e.url.indexOf(n)}))===t})).map((function(e){return s(s({},e),{},{url:0===e.url.indexOf("/")?"".concat(location.origin).concat(e.url):e.url})}))})}))}},80371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(70885),c=n(4942),a=n(15861),o=n(87757),i=n.n(o),l=n(46759),u=n.n(l),s=n(55159),p=n(80123),f=n(39173),m=n(14748),d=n(86706),h=n(98924),v=n(94778),b=n(35664),g=n(24561),O=n(27174),y=n(50470),E=n(55171),w=n.n(E),j=n(55140);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const k=function(){var e,t=(0,d.I0)(),n=(0,d.v9)((function(e){return e.detail.loaded})),c=(0,d.v9)((function(e){return e.detail.spec})),o=(0,d.v9)((function(e){return e.detail.error})),E=(0,d.v9)((function(e){return e.detail.latest})),P=(0,s.useParams)(),k=P.apiName,Z=P.version,_=void 0===Z?"v1":Z,C=new URLSearchParams((0,s.useLocation)().search),D=(0,j.Z)().auth;(0,l.useEffect)((function(){t((0,v.IQ)({name:k,version:_,url:C.get("url"),github:{owner:C.get("github-owner"),repo:C.get("github-repo"),content:C.get("github-content")}}))}),[]);var I=(0,l.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.t1=S({},t.headers||{}),e.t2={},e.t3="Bearer ",e.next=6,D.getToken();case 6:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6={Authorization:e.t5},t.headers=(0,e.t0)(e.t1,e.t2,e.t6),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D]),x=(0,l.useState)(!1),B=(0,r.Z)(x,2),N=B[0],L=B[1];return u().createElement(u().Fragment,null,u().createElement(p.Z,{className:"pf-m-light"},u().createElement(f.Z,{title:u().createElement(u().Fragment,null,u().createElement(O.Breadcrumb,null,u().createElement(O.BreadcrumbItem,null,u().createElement(s.Link,{to:"/"},"Overview")),u().createElement(O.BreadcrumbItem,{isActive:!0},k)),u().createElement(u().Fragment,null,n&&!o&&u().createElement(O.Level,{className:"ins-c-docs__api-detail"},u().createElement(O.LevelItem,{className:"ins-c-docs__api-detail-info"},n?"Detail of ".concat(null==c||null===(e=c.info)||void 0===e?void 0:e.title):u().createElement(b.Z,{size:b.i.md})),u().createElement(O.LevelItem,null,u().createElement(O.Split,{hasGutter:!0},u().createElement(O.SplitItem,{className:"ins-c-docs__api-detail-info"},n&&!o?u().createElement(O.TextContent,null,u().createElement(O.Text,{component:"a",href:"".concat(E.includes("https://")?"":location.origin).concat(E),target:"_blank",rel:"noopener noreferrer"},"Open Raw ",u().createElement(y.ZP,{size:"sm"}))):u().createElement(b.Z,{size:b.i.mdmd})),u().createElement(O.SplitItem,{className:"ins-c-docs__api-detail-info"},n?u().createElement(O.Button,{onClick:function(){return L(!0)},variant:O.ButtonVariant.secondary},"Show JSON"):u().createElement(b.Z,{size:b.i.md})))))))})),u().createElement(m.Z,null,u().createElement(u().Fragment,null,u().createElement(O.Card,null,u().createElement(O.CardBody,null,n&&u().createElement(h.Z,{deepLinking:!0,docExpansion:"list",spec:c,requestInterceptor:I,onComplete:function(e){var t=e.layoutActions.show;if(e.layoutActions.show=function(e,n){var r=location.pathname;t(e,n),history.replaceState({},"","".concat(r,"#").concat(CSS.escape(e.join("-"))))},location.hash&&location.hash.length>0){var n=document.querySelector("[id$='".concat(location.hash.replace("#","").replace(/\\./g,"\\\\."),"']"));n&&(n.scrollIntoView(),t(location.hash.replace("#","").replace(/\\/g,"").split("-"),!0))}}}),!n&&u().createElement(g.s1,null))))),u().createElement(O.Modal,{width:"50%",title:"Spec JSON",isOpen:N,onClose:function(){return L(!1)},actions:[u().createElement(O.Button,{key:"close",variant:O.ButtonVariant.secondary,onClick:function(){return L(!1)}},"Close")]},u().createElement(w(),{displayDataTypes:!1,shouldCollapse:function(e){var t=e.name;return"root"!==t&&"paths"!==t},src:c})))}},94778:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>o,j3:()=>a,wS:()=>i});var r=n(49120),c=n(66702),a=function(){return{type:r.Lh,payload:(0,c.Ux)()}},o=function(e){return{type:r.a,payload:(0,c.w0)(e)}},i=function(e){return{type:r.HM,payload:e}}},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Detail.823a3d37fc801ec1d33500b96c08e2a8.js.map