(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[7887],{66702:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>u,w0:()=>p});var r=n(42982),a=n(4942),c=n(6407),o=n(33366),l=n(47180);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return o.ZP.get("".concat(insights.chrome.isBeta()?"/beta":"","/config/main.yml")).then((function(e){return(0,l.zD)(e)})).then((function(e){return{services:Object.keys(e).filter((function(t){return e[t].api})).map((function(t){return s({appName:t},e[t])}))}}))},p=function(e){var t,n,a=e.name,l=e.version,i=void 0===l?"v1":l,u=e.url,p=null!=u?u:(t=a,n=c.u[a]||i,"/".concat(c.K,"/").concat(t,"/").concat(n,"/openapi.json"));return o.ZP.get(p).then((function(e){return s(s({},e),{},{latest:p,name:a,servers:[].concat((0,r.Z)(e.servers||[]),[{url:"/api/".concat(a,"/").concat(c.u[a]||i)}]).filter((function(e,t,n){return n.findIndex((function(t){var n=t.url;return 0==="".concat(location.origin).concat(e.url).indexOf(n)||0===e.url.indexOf(n)}))===t})).map((function(e){return s(s({},e),{},{url:0===e.url.indexOf("/")?"".concat(location.origin).concat(e.url):e.url})}))})}))}},80371:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(70885),a=n(4942),c=n(15861),o=n(87757),l=n.n(o),i=n(46759),s=n.n(i),u=n(55159),p=n(80123),d=n(39173),f=n(14748),m=n(86706),h=n(45697),v=n.n(h),O=n(98924),y=n(94778),b=n(35664),g=n(24561),E=n(27174),j=n(50470),w=n(55171),P=n.n(w),S=n(55140);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t,n,a=e.loadApi,o=e.detail,m=(0,u.useParams)(),h=m.apiName,v=m.version,y=void 0===v?"v1":v,w=new URLSearchParams((0,u.useLocation)().search),k=(0,S.Z)().auth;(0,i.useEffect)((function(){a(h,y,w.get("url"))}),[]);var _=(0,i.useCallback)(function(){var e=(0,c.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Z,e.t1=Z({},t.headers||{}),e.t2={},e.t3="Bearer ",e.next=6,k.getToken();case 6:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6={Authorization:e.t5},t.headers=(0,e.t0)(e.t1,e.t2,e.t6),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),C=(0,i.useState)(!1),x=(0,r.Z)(C,2),D=x[0],I=x[1];return s().createElement(s().Fragment,null,s().createElement(p.Z,{className:"pf-m-light"},s().createElement(d.Z,{title:s().createElement(s().Fragment,null,s().createElement(E.Breadcrumb,null,s().createElement(E.BreadcrumbItem,null,s().createElement(u.Link,{to:"/"},"Overview")),s().createElement(E.BreadcrumbItem,{isActive:!0},h)),s().createElement(s().Fragment,null,o.loaded&&!o.error&&s().createElement(E.Level,{className:"ins-c-docs__api-detail"},s().createElement(E.LevelItem,{className:"ins-c-docs__api-detail-info"},o.loaded?"Detail of ".concat(null===(t=o.spec)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.title):s().createElement(b.Z,{size:b.i.md})),s().createElement(E.LevelItem,null,s().createElement(E.Split,{hasGutter:!0},s().createElement(E.SplitItem,{className:"ins-c-docs__api-detail-info"},o.loaded&&!o.error?s().createElement(E.TextContent,null,s().createElement(E.Text,{component:"a",href:"".concat(o.latest.includes("https://")?"":location.origin).concat(o.latest),target:"_blank",rel:"noopener noreferrer"},"Open Raw ",s().createElement(j.ZP,{size:"sm"}))):s().createElement(b.Z,{size:b.i.mdmd})),s().createElement(E.SplitItem,{className:"ins-c-docs__api-detail-info"},o.loaded?s().createElement(E.Button,{onClick:function(){return I(!0)},variant:E.ButtonVariant.secondary},"Show JSON"):s().createElement(b.Z,{size:b.i.md})))))))})),s().createElement(f.Z,null,s().createElement(s().Fragment,null,s().createElement(E.Card,null,s().createElement(E.CardBody,null,o.loaded&&s().createElement(O.Z,{deepLinking:!0,docExpansion:"list",spec:o.spec,requestInterceptor:_,onComplete:function(e){var t=e.layoutActions.show;if(e.layoutActions.show=function(e,n){history.replaceState({},"","".concat(location.pathname,"#").concat(CSS.escape(e.join("-")))),t(e,n)},location.hash&&location.hash.length>0){var n=document.querySelector("[id$='".concat(location.hash.replace("#","").replace(/\\./g,"\\\\."),"']"));n&&(n.scrollIntoView(),t(location.hash.replace("#","").replace(/\\/g,"").split("-"),!0))}}}),!o.loaded&&s().createElement(g.s1,null))))),s().createElement(E.Modal,{width:"50%",title:"Spec JSON",isOpen:D,onClose:function(){return I(!1)},actions:[s().createElement(E.Button,{key:"close",variant:E.ButtonVariant.secondary,onClick:function(){return I(!1)}},"Close")]},s().createElement(P(),{displayDataTypes:!1,shouldCollapse:function(e){var t=e.name;return"root"!==t&&"paths"!==t},src:o.spec})))};_.propTypes={loadApi:v().func,detail:v().shape({loaded:v().bool,spec:v().string,error:v().bool,latest:v().string})},_.defaultProps={loadApi:function(){},detail:{loaded:!1}};const C=(0,m.$j)((function(e){return{detail:e.detail}}),(function(e){return{loadApi:function(t,n,r){return e((0,y.IQ)({name:t,version:n,url:r}))}}}))(_)},94778:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>o,j3:()=>c,wS:()=>l});var r=n(49120),a=n(66702),c=function(){return{type:r.Lh,payload:(0,a.Ux)()}},o=function(e){return{type:r.a,payload:(0,a.w0)(e)}},l=function(e){return{type:r.HM,payload:e}}},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Detail.efa18f95203b8af3c3045e130610d044.js.map